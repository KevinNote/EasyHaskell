# åˆ—è¡¨çš„ä¸€äº›ç”¨æ³•

## è¿žæŽ¥ä¸¤ä¸ªåˆ—è¡¨ï¼ˆ`[a] ++ [a]`ï¼‰

ç±»åž‹ `[a] -> [a] -> [a]`

Haskell ä¸­ä½¿ç”¨ `++` è¿›è¡Œä¸¤ä¸ªåŒç±»åž‹çš„è¡¨åˆ—å¢žåŠ ï¼Œe.g.

```hs
ghci> let x = [1, 2, 3]
ghci> let y = [4, 5, 6]
ghci> x ++ y
[1,2,3,4,5,6]
```

## å¢žåŠ å…ƒç´ åˆ°å¤´éƒ¨ï¼ˆ`a : [a]`ï¼‰

ç±»åž‹ `a -> [a] -> [a]`

Haskell ä½¿ç”¨ `:` å°†å·¦ä¾§çš„Operandæ·»åŠ åˆ°å³ä¾§çš„Operandä¸Šï¼š

```hs
ghci> let x = [1, 2, 3]
ghci> 0 : x
[0,1,2,3]
```

## èŽ·å–æ•°ç»„é•¿åº¦ï¼ˆ`length [a]`ï¼‰

ç±»åž‹ `[a] -> Int`

```hs
ghci> let x = [1, 2, 3]
ghci> length x
3
```

## å–å‡ºå‰ n ä¸ªå…ƒç´ ï¼ˆ`take Int [a]`ï¼‰

ç±»åž‹ `Int -> [a] -> [a]`

```hs
ghci> let x = [1, 2, 3]
ghci> take 2 x
[1,2]
ghci> take 5 x  -- å–å‡ºçš„ n å¤§äºŽæ•°ç»„çš„é•¿åº¦
[1,2,3]
```

## å–å‡ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆ`head [a]`ï¼‰

ç±»åž‹ `[a] -> Int`

```hs
ghci> let x = [1, 2, 3]
ghci> head x
1
ghci> let y = []  -- å¦‚æžœä¸ºç©ºæƒ…å†µ
ghci> head y
*** Exception: Prelude.head: empty list
```

## å–å‡ºé™¤ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆ`tail [a]`ï¼‰

ç±»åž‹ `[a] -> [a]`

```hs
ghci> let x = [1, 2, 3]
ghci> tail x
[2,3]
ghci> let y = []  -- å¦‚æžœä¸ºç©ºæƒ…å†µ
ghci> tail y
*** Exception: Prelude.head: empty list
```

## æƒ°æ€§æ±‚å€¼/Lazy Evaluation

Haskell æ˜¯ä¸€é—¨éžå¸¸ðŸ‚çš„è¯­è¨€ï¼Œå…¶æ”¯æŒæ•°ç»„çš„æƒ°æ€§æ±‚å€¼ã€‚ç®€å•æ¥è¯´ï¼Œ
å¯¹äºŽä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ï¼Œå¦‚æžœæˆ‘ä»¬åªéœ€è¦æ“ä½œå‰ m ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆ
åŽé¢çš„ n - m ä¸ªå…ƒç´  Haskell ä¼šé»˜è®¤ä¸æ‰§è¡Œæ±‚å€¼ã€‚æ­£å› ä¸ºæ­¤ç‰¹æ€§ï¼Œ
Haskell æ”¯æŒäº†æ— ç©·æ•°ç»„ï¼ˆInfinite Listï¼‰ã€‚

ä¸ºäº†éªŒè¯å…¶ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™å‡½æ•° `from`ï¼Œå…¶ç±»åž‹ä¸º `Int -> [Int]`ï¼Œ
æ¥è¿”å›žä¸€ä¸ªä»Žè¾“å…¥å¼€å§‹ä¸€ç›´åˆ°æ— ç©·çš„å‡½æ•°

```hs
-- ä½äºŽ src/4-from.hs
-- ghci src/4-from.hs å¯ä»¥è‡ªåŠ¨è£…è½½æ­¤ç¨‹åº
from :: Int -> [Int]
from x = x : from (x + 1)
```

å¦‚æžœæˆ‘ä»¬ç›´æŽ¥è¿è¡Œ `from 1`ï¼Œç»ˆç«¯ä¼šè¾“å‡º `[1,2,3,4,5,6,7,8,9,10,...`
å¹¶ä¸”ä¸ä¼šåœæ­¢ï¼Œå…¶è¡¨ç¤ºäº†è¿™ä¸ªæ•°ç»„æžåº¦çš„é•¿ä»¥è‡³äºŽå¾ˆéš¾ä¸€æ¬¡æ€§æ‰“å°å®Œã€‚

ä½†æ˜¯å¦‚æžœæˆ‘ä»¬æ‰§è¡Œ `take 3 (from 1)`ï¼Œ ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä»Ž `[1,2,3,4,5,6,7,8,9,10,...` è¿™ä¸ªæ•°ç»„å–å‡ºå‰3ä¸ªï¼Œç»“æžœéžå¸¸Amazingå•Šï¼ŒHaskellå¹¶æ²¡æœ‰å¯¹æ•´ä¸ªæ•°ç»„æ‰§è¡Œ
æ±‚å€¼ï¼Œè€Œæ˜¯åªæ±‚äº†å…¶ä¸­å‰ä¸‰ä½ï¼ˆå› ä¸ºè¿”å›žé€Ÿåº¦çœŸçš„å¾ˆå¿«ï¼ï¼‰

```hs
ghci> take 3 (from 1)
[1,2,3]
```